"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[624],{1624:(R,l,r)=>{r.r(l),r.d(l,{HomePage:()=>C});var e=r(3953),o=r(5979),_=r(5699),m=r(980),g=r(9437),c=r(2902);const d=(t,s)=>s.id,p=()=>[o.nf,o.uz,o.mC,o.he,Promise.resolve().then(r.bind(r,177)).then(t=>t.DatePipe),o.In,o.Ax,o.Hp,c.Wk],f=()=>["OK"],u=t=>["/details",t];function h(t,s){1&t&&(e.j41(0,"ion-item")(1,"ion-avatar",2),e.nrm(2,"ion-skeleton-text"),e.k0s(),e.nrm(3,"ion-skeleton-text",3),e.k0s())}function P(t,s){if(1&t&&(e.j41(0,"ion-list"),e.Z7z(1,h,4,0,"ion-item",null,e.fX1),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Dyx(n.dummyArray)}}function x(t,s){if(1&t&&e.nrm(0,"ion-alert",1),2&t){const n=e.XpG();e.Y8G("message",n.error)("buttons",e.lJ4(2,f))}}function M(t,s){if(1&t&&(e.j41(0,"ion-item",4)(1,"ion-avatar",2),e.nrm(2,"img",7),e.k0s(),e.j41(3,"ion-label",8)(4,"h3"),e.EFF(5),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"ion-badge",9),e.EFF(10),e.k0s()()),2&t){const n=s.$implicit,i=e.XpG(2);e.Y8G("routerLink",e.eq3(8,u,n.id)),e.R7$(2),e.Y8G("src",i.imageBaseUrl+"/w92"+n.poster_path,e.B4B),e.R7$(3),e.JRh(n.title),e.R7$(2),e.JRh(e.i5U(8,5,n.release_date,"y")),e.R7$(3),e.SpI(" ",n.vote_average," ")}}function v(t,s){1&t&&(e.j41(0,"ion-item",10)(1,"ion-label",11),e.EFF(2,"No Movies Found"),e.k0s()())}function E(t,s){if(1&t&&e.DNE(0,v,3,0,"ion-item",10),2&t){const n=e.XpG(2);e.vxM(n.isLoading?-1:0)}}function D(t,s){if(1&t){const n=e.RV6();e.j41(0,"ion-list"),e.Z7z(1,M,11,10,"ion-item",4,d,!1,E,1,1),e.k0s(),e.j41(4,"ion-infinite-scroll",5),e.bIt("ionInfinite",function(a){e.eBV(n);const O=e.XpG();return e.Njj(O.loadMore(a))}),e.nrm(5,"ion-infinite-scroll-content",6),e.k0s()}if(2&t){const n=e.XpG();e.R7$(),e.Dyx(n.movies)}}let C=(()=>{var t;class s{constructor(){this.movieService=(0,e.WQX)(_.W),this.currentPage=1,this.error=null,this.isLoading=!1,this.imageBaseUrl="https://image.tmdb.org/t/p",this.movies=[],this.dummyArray=new Array(5),this.loadMovies()}loadMovies(i){this.error=null,i||(this.isLoading=!0),this.movieService.getTopRatedMovies(this.currentPage).pipe((0,m.j)(()=>{this.isLoading=!1,i&&i.target.complete()}),(0,g.W)(a=>(console.error(a),this.error=a.error.status_message,[]))).subscribe({next:a=>{console.log(a),this.movies.push(...a.results),i&&(i.target.disabled=a.total_pages===this.currentPage)}})}loadMore(i){this.currentPage++,this.loadMovies(i)}}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-home"]],standalone:!0,features:[e.aNF],decls:10,vars:2,consts:[["color","primary"],["header","Error","isOpen","true",3,"message","buttons"],["slot","start"],["animated","",2,"height","40px"],["button","",3,"routerLink"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data"],["alt","poster",3,"src"],[1,"ion-text-wrap"],["slot","end"],["lines","none"],[1,"ion-text-center"]],template:function(i,a){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3," Trending Movies "),e.k0s()()(),e.j41(4,"ion-content"),e.DNE(5,P,3,0,"ion-list")(6,x,1,3,"ion-alert",1)(7,D,6,1),e.nv$(8,7,p),e.k0s()),2&i&&(e.R7$(5),e.vxM(a.isLoading?5:a.error?6:-1),e.R7$(3),e.LVR(!a.isLoading))},dependencies:[o.eU,o.ai,o.BC,o.W9,o.nf,o.uz,o.ds,o.mC,o.Zy,c.iI],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),s})()}}]);